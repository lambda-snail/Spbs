@using System.Globalization
@using Spbs.Ui.Components.UserSettings
@inherits UserSettingsComponentBase


<MudPaper Class="pa-2">
    <MudForm Model="@_localeInformationVm">

        <MudSelect T="string" Label="Select Your Time Zone"
                   Variant="Variant.Text"
                   @bind-Value="@_localeInformationVm.TimeZone"
                   Margin="Margin.Dense"
                   HelperText="All dates will automatically adjust to the time zone you select">

            <MudSelectItem Value="@string.Empty">No TIme Zone Selected</MudSelectItem>
            @foreach (var timeZone in TimeZoneInfo.GetSystemTimeZones())
            {
                <MudSelectItem Value="@timeZone.Id">@timeZone.DisplayName</MudSelectItem>
            }
        </MudSelect>

        <MudSelect T="string" Label="Select Your Culture"
                   Variant="Variant.Text"
                   @bind-Value="@_localeInformationVm.CultureInfo"
                   Margin="Margin.Dense"
                   HelperText="Your culture will affect how certain string are displayed">

            <MudSelectItem Value="@string.Empty">No Culture Selected</MudSelectItem>
            @foreach (var ci in CultureInfo.GetCultures(CultureTypes.AllCultures))
            {
                <MudSelectItem Value="@ci.Name">@ci.DisplayName</MudSelectItem>
            }
        </MudSelect>

    </MudForm>
    
    <MudButton Color="Color.Primary" OnClick="HandleValidSubmit">Save</MudButton>
</MudPaper>
