@inherits Spbs.Ui.Components.UserSettings.UserSettingsComponentBase

<MudPaper Elevation="25" Class="mt-8 mb-4">
    <MudToolBar>
        <MudTooltip Text="New Category">
            <MudIconButton OnClick="OnAddCategoryClickedAsync"
                           Icon="@Icons.Material.Filled.Add"
                           Color="Color.Primary"/>
        </MudTooltip>
        <MudTooltip Text="@EditButtonTooltip()">
            <MudIconButton OnClick="EditSelectedItem"
                           Disabled="@(_selectedCategories.Count != 1)"
                           Icon="@Icons.Material.Filled.Edit"
                           Color="Color.Primary"/>
        </MudTooltip>
        <MudTooltip Text="@DeleteButtonTooltip()">
            <MudIconButton OnClick="OnRemoveCategoryClickedAsync"
                           Disabled="@(_selectedCategories.Count == 0)"
                           Icon="@Icons.Material.Filled.Remove"
                           Color="Color.Primary"/>
        </MudTooltip>
        <MudSpacer/>

        <MudTooltip Text="@SaveButtonTooltip()">
            <MudIconButton OnClick="OnSaveClicked"
                           Disabled="@(!_isDirty)"
                           Icon="@Icons.Material.Filled.Save"
                           Color="Color.Secondary"/>
        </MudTooltip>
    </MudToolBar>
</MudPaper>


<MudDataGrid T="ExpenseCategoryListItem"
             @ref="_grid"
             Items="_expenseCategories"
             ReadOnly="false"
             EditMode="DataGridEditMode.Form"
             CommittedItemChanges="@OnCommittedItemChanged"
             MultiSelection="true"
             SelectedItemsChanged="OnSelectionChanged"
             Bordered="true"
             Dense="false"
             EditTrigger="DataGridEditTrigger.OnRowClick">
    <Columns>
        <SelectColumn/>
        <PropertyColumn Property="x => x.CategoryName" Title="Category"/>
    </Columns>
</MudDataGrid>